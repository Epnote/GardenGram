window.LisSDK=function(e){"use strict";function t(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((o=o.apply(e,t||[])).next())})}function n(e,t){return new Promise(n=>{const o=document.createElement("script");o.src=e,o.async=!0,o.onload=()=>n(),t&&t(o),document.head.appendChild(o)})}"function"==typeof SuppressedError&&SuppressedError;const o={info:function(e,...t){console.log(`%c[@lis-sdk/js 5.1.0]%c ${e}`,"background: #222; color: #fb923c;","",...t)},error:function(e,...t){console.error(`%c[@lis-sdk/js 5.1.0]%c ${e}`,"background: #222; color: #fb923c;","",...t)}};class i{constructor(){this.listenersMap={}}on(e,t){return this.listenersMap[e]||(this.listenersMap[e]=[]),this.listenersMap[e].push(t),t}once(e,t){const n=(...o)=>{t(...o),this.off(e,n)};return this.on(e,n)}off(e,t){const n=this.listenersMap[e];if(!n)return;let o=n.indexOf(t);for(;-1!==o;)n.splice(o,1),o=n.indexOf(t)}emit(e,...t){const n=this.listenersMap[e];if(n)for(const e of n)e(...t)}}const r={platform:{name:"fallback",sdk:null},metrics:{gameIsReady:()=>{},gameplay:{start:()=>{},stop:()=>{}}},device:{language:navigator.language.slice(0,2),type:function(){const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4))}()?"mobile":"desktop"},auth:{supported:!1,status:()=>Promise.resolve("unauthenticated"),user:{id:"",name:"",avatar:void 0},signIn:void 0,signOut:void 0},storage:{getItem:e=>t(void 0,void 0,void 0,function*(){return localStorage.getItem(e)}),setItem:(e,t)=>localStorage.setItem(e,t)},adv:{interstitial:{supported:!1,show:()=>{}},rewarded:{supported:!1,show:()=>{}},banners:{adaptive:{supported:!1,sizes:[],hide:()=>{},show:()=>{},hideAll:()=>{}},static:{supported:!1,show:()=>{},hide:()=>{}}}},iap:{supported:!1,getCatalog:()=>Promise.reject(new Error("IAP is not supported")),purchase:()=>Promise.reject(new Error("IAP is not supported")),getPurchases:()=>Promise.reject(new Error("IAP is not supported")),consume:()=>Promise.reject(new Error("IAP is not supported"))},review:{supported:!1,available:()=>Promise.resolve(!1),request:()=>Promise.resolve(!1)},events:new i,time:()=>Date.now()};let a;const s={name:"crazy_games",check:()=>location.href.includes("crazygames.com"),init(e){return t(this,void 0,void 0,function*(){yield n("https://sdk.crazygames.com/crazygames-sdk-v3.js");const o=window.CrazyGames.SDK;yield o.init(),e.platform.sdk=o,o.game.loadingStart(),e.metrics.gameIsReady=()=>o.game.loadingStop(),e.metrics.gameplay.start=()=>o.game.gameplayStop(),e.metrics.gameplay.stop=()=>o.game.gameplayStart(),e.storage.getItem=e=>t(this,void 0,void 0,function*(){return o.data.getItem(e)}),e.storage.setItem=(e,t)=>o.data.setItem(e,t),e.adv.interstitial.supported=!0,e.adv.interstitial.show=t=>{o.ad.requestAd("midgame",{adStarted:()=>{var n;null===(n=null==t?void 0:t.onOpen)||void 0===n||n.call(t),e.events.emit("audio-mute")},adFinished:()=>{var n;null===(n=null==t?void 0:t.onClose)||void 0===n||n.call(t),e.events.emit("audio-unmute")},adError:n=>{var o,i;null===(o=null==t?void 0:t.onClose)||void 0===o||o.call(t),null===(i=null==t?void 0:t.onError)||void 0===i||i.call(t,JSON.stringify(n)),e.events.emit("audio-unmute")}})},e.adv.rewarded.supported=!0,e.adv.rewarded.show=t=>{o.ad.requestAd("rewarded",{adStarted:()=>{var n;null===(n=null==t?void 0:t.onOpen)||void 0===n||n.call(t),e.events.emit("audio-mute")},adFinished:()=>{var n;null===(n=null==t?void 0:t.onClose)||void 0===n||n.call(t,!0),e.events.emit("audio-unmute")},adError:n=>{var o,i;null===(o=null==t?void 0:t.onClose)||void 0===o||o.call(t,!1),null===(i=null==t?void 0:t.onError)||void 0===i||i.call(t,JSON.stringify(n)),e.events.emit("audio-unmute")}})},e.adv.banners.adaptive.supported=!0,e.adv.banners.adaptive.sizes=[{width:970,height:90},{width:320,height:50},{width:160,height:600},{width:336,height:280},{width:728,height:90},{width:300,height:600},{width:468,height:60},{width:970,height:250},{width:300,height:250},{width:250,height:250},{width:120,height:600}];const i={};return e.adv.banners.adaptive.show=e=>t(this,void 0,void 0,function*(){i[e]&&(clearTimeout(i[e]),i[e]=null),yield o.banner.requestResponsiveBanner(e),i[e]=setTimeout(()=>t(this,void 0,void 0,function*(){yield o.banner.requestResponsiveBanner(e),i[e]&&(clearTimeout(i[e]),i[e]=null)}),6e4)}),e.adv.banners.adaptive.hide=e=>{i[e]&&(clearTimeout(i[e]),i[e]=null),o.banner.clearBanner(e)},e.adv.banners.adaptive.hideAll=()=>{for(const e in i)i[e]&&(clearTimeout(i[e]),i[e]=null);o.banner.clearAllBanners()},e})}},l={name:"ok",check:()=>location.href.includes("application_key")&&location.href.includes("session_secret_key")&&location.href.includes("sig"),init(e){return t(this,void 0,void 0,function*(){var r,a;yield n("//api.ok.ru/js/fapi5.js");const s=FAPI.Util.getRequestParameters();FAPI.init(s.api_server,s.apiconnection,function(){},function(e){}),e.platform.FAPI=FAPI,e.auth.supported=!0,e.auth.signIn=()=>t(this,void 0,void 0,function*(){FAPI.UI.showLoginSuggestion("authorized")}),e.auth.status=()=>t(this,void 0,void 0,function*(){return"1"===s.authorized?"authenticated":"unauthenticated"}),e.auth.user={id:null!==(r=s.logged_user_id)&&void 0!==r?r:"",name:null!==(a=s.user_name)&&void 0!==a?a:"",avatar:s.user_image},e.device.language=s.language||navigator.language.slice(0,2),e.adv.interstitial.supported=!0,window.API_callback=(e,t,n)=>{"showAd"===e&&("ad_started_1"===n&&l.emit("interstitialCallback","show"),"ad_shown"===n&&l.emit("interstitialCallback","hide")),"loadAd"===e&&l.emit("loadAdCallback",n),"showLoadedAd"===e&&("skip"===n&&l.emit("rewardedCallback","closed"),"complete"===n&&l.emit("rewardedCallback","claimed"),console.log(n)),"requestBannerAds"!==e||"ad_loaded"!==n&&"in_use"!==n||l.emit("loadBannerCallback","")};const l=new i;e.adv.interstitial.show=e=>{FAPI.UI.showAd(),l.once("interstitialCallback",t=>{var n,o;"show"===t?null===(n=null==e?void 0:e.onOpen)||void 0===n||n.call(e):null===(o=null==e?void 0:e.onClose)||void 0===o||o.call(e)})},e.adv.rewarded.supported=!0;let d=!1;return l.on("loadAdCallback",e=>{"ready"===e&&(d=!0)}),FAPI.UI.loadAd(),e.adv.rewarded.show=e=>t(this,void 0,void 0,function*(){var t,n;d?(d=!1,null===(n=null==e?void 0:e.onOpen)||void 0===n||n.call(e),FAPI.UI.showLoadedAd(),setTimeout(()=>FAPI.UI.loadAd(),3e4),l.once("rewardedCallback",t=>{var n;null===(n=null==e?void 0:e.onClose)||void 0===n||n.call(e,"claimed"===t)})):null===(t=null==e?void 0:e.onError)||void 0===t||t.call(e,"Ad not ready")}),e.adv.banners.static.supported=!0,e.adv.banners.static.show=e=>t(this,void 0,void 0,function*(){yield(FAPI.invokeUIMethod("requestBannerAds"),new Promise(e=>{l.once("loadBannerCallback",()=>{e(!0)})})),FAPI.invokeUIMethod("showBannerAds",e||"bottom")}),e.adv.banners.static.hide=()=>{FAPI.invokeUIMethod("hideBannerAds")},e.review.supported=!0,e.review.available=()=>t(this,void 0,void 0,function*(){try{if("1"!==FAPI.Util.getRequestParameters().authorized)return!1;return!sessionStorage.getItem("ok_review_shown")}catch(e){return o.error("OK review not available",e),!1}}),e.review.request=()=>t(this,void 0,void 0,function*(){try{sessionStorage.setItem("ok_review_shown","true");const e=yield FAPI.UI.showRatingDialog();return!(!e||!e.success)}catch(e){return o.error("OK review request failed",e),!1}}),e})}},d={name:"playdeck",check:()=>new URL(location.href).searchParams.has("playdeck"),init(e){return t(this,void 0,void 0,function*(){const t=window.parent.window;return t.postMessage({playdeck:{method:"loading"}},"*"),e.metrics.gameIsReady=()=>{t.postMessage({playdeck:{method:"loading",value:100}},"*")},e.storage.getItem=e=>new Promise(n=>{const o=t=>{var i,r;const a=null===(i=t.data)||void 0===i?void 0:i.playdeck;a&&"getData"===a.method&&a.key===e&&(window.removeEventListener("message",o),n(null!==(r=a.value)&&void 0!==r?r:null))};window.addEventListener("message",o),t.postMessage({playdeck:{method:"getData",key:e}},"*")}),e.storage.setItem=(e,n)=>{t.postMessage({playdeck:{method:"setData",key:e,value:n}},"*")},e})}},u={name:"poki",check:()=>location.href.includes("poki-gdn")||location.href.includes("inspector.poki.dev"),init(e){return t(this,void 0,void 0,function*(){yield n("https://game-cdn.poki.com/scripts/v2/poki-sdk.js");const t=window.PokiSDK;return yield t.init(),e.platform.sdk=t,e.metrics.gameIsReady=()=>t.gameLoadingFinished(),e.metrics.gameplay.start=()=>t.gameplayStart(),e.metrics.gameplay.stop=()=>t.gameplayStop(),e.adv.interstitial.supported=!0,e.adv.interstitial.show=e=>{t.commercialBreak(()=>{var n;t.gameplayStop(),null===(n=null==e?void 0:e.onOpen)||void 0===n||n.call(e)}).then(()=>{var t;null===(t=null==e?void 0:e.onClose)||void 0===t||t.call(e)}).catch(t=>{var n,i;o.error("PokiSDK.commercialBreak.catch",t),null===(n=null==e?void 0:e.onClose)||void 0===n||n.call(e),null===(i=null==e?void 0:e.onError)||void 0===i||i.call(e,"")})},e.adv.rewarded.supported=!0,e.adv.rewarded.show=e=>{t.rewardedBreak(()=>{var t;null===(t=null==e?void 0:e.onOpen)||void 0===t||t.call(e)}).then(t=>{var n;null===(n=null==e?void 0:e.onClose)||void 0===n||n.call(e,t)}).catch(t=>{var n,i;o.error("PokiSDK.rewardedBreak.catch",t),null===(n=null==e?void 0:e.onClose)||void 0===n||n.call(e,!1),null===(i=null==e?void 0:e.onError)||void 0===i||i.call(e,"")})},e})}},c={name:"vk",check:()=>location.href.includes("vk_app_id")||location.href.includes("vk_user_id"),init(e){return t(this,void 0,void 0,function*(){let n=yield Promise.resolve().then(function(){return z});"send"in n.default||(n=n.default);const{default:i,EAdsFormats:r,BannerAdLocation:a}=n;i.send("VKWebAppInit"),e.platform.module=n,e.auth.supported=!0,e.auth.status=()=>Promise.resolve("authenticated");const s=yield i.send("VKWebAppGetUserInfo");return e.auth.user={id:s.id.toString(),name:`${s.first_name} ${s.last_name}`,avatar:s.photo_200},e.device.language=s.language||navigator.language.slice(0,2),e.storage.getItem=e=>t(this,void 0,void 0,function*(){try{const{keys:t}=yield i.send("VKWebAppStorageGet",{keys:[e]});return t[0].value||null}catch(e){return o.error("VKWebAppStorageGet.catch",e),null}}),e.storage.setItem=(e,t)=>{i.send("VKWebAppStorageSet",{key:e,value:t}).catch(e=>{o.error("VKWebAppStorageSet.catch",e)})},e.adv.interstitial.supported=!0,e.adv.interstitial.show=e=>t(this,void 0,void 0,function*(){var t,n,a,s;try{const{result:o}=yield i.send("VKWebAppCheckNativeAds",{ad_format:r.INTERSTITIAL});if(!o)return;null===(t=null==e?void 0:e.onOpen)||void 0===t||t.call(e);const{result:s}=yield i.send("VKWebAppShowNativeAds",{ad_format:r.INTERSTITIAL});s?null===(n=null==e?void 0:e.onClose)||void 0===n||n.call(e):null===(a=null==e?void 0:e.onError)||void 0===a||a.call(e,"unhandled error")}catch(t){o.error("VKWebAppShowNativeAds.catch",t),t instanceof Error&&(null===(s=null==e?void 0:e.onError)||void 0===s||s.call(e,t.message))}}),e.adv.rewarded.supported=!0,e.adv.rewarded.show=e=>t(this,void 0,void 0,function*(){var t,n,a,s,l;try{const{result:o}=yield i.send("VKWebAppCheckNativeAds",{ad_format:r.REWARD,use_waterfall:!1});if(!o)return void(null===(t=null==e?void 0:e.onError)||void 0===t||t.call(e,"Ad not found"));null===(n=null==e?void 0:e.onOpen)||void 0===n||n.call(e);const{result:l}=yield i.send("VKWebAppShowNativeAds",{ad_format:r.REWARD,use_waterfall:!1});l?null===(a=null==e?void 0:e.onClose)||void 0===a||a.call(e,!0):null===(s=null==e?void 0:e.onError)||void 0===s||s.call(e,"unhandled error")}catch(t){o.error("VKWebAppShowNativeAds.catch",t),t instanceof Error&&(null===(l=null==e?void 0:e.onError)||void 0===l||l.call(e,t.message))}}),e.adv.banners.static.supported=!1,e.adv.banners.static.show=e=>{i.send("VKWebAppShowBannerAd",{banner_location:"top"===e?a.TOP:a.BOTTOM})},e.adv.banners.static.hide=()=>{i.send("VKWebAppHideBannerAd")},e.review.supported=!0,e.review.available=()=>t(this,void 0,void 0,function*(){try{if(!(yield i.send("VKWebAppGetUserInfo")).id)return!1;return!sessionStorage.getItem("vk_review_shown")}catch(e){return o.error("VK review not available",e),!1}}),e.review.request=()=>t(this,void 0,void 0,function*(){try{sessionStorage.setItem("vk_review_shown","true");const e=yield i.send("VKWebAppShowRatingBox");return!(!e||!e.result)}catch(e){return o.error("VK review request failed",e),!1}}),e.iap.supported=!0,e.iap.getCatalog=()=>t(this,void 0,void 0,function*(){try{return(yield i.send("VKWebAppGetProducts",{})).products.map(e=>({sku:e.id,title:e.title,description:e.description,price:e.price,imageURI:e.image,currencyCode:e.currency,currencyImageURI:e.currency_image}))}catch(e){return o.error("VK getCatalog failed",e),[]}}),e.iap.purchase=e=>t(this,void 0,void 0,function*(){try{const t=yield i.send("VKWebAppPurchaseProduct",{product_id:e});return{sku:t.product_id,token:t.purchase_token,platfromData:t}}catch(e){throw o.error("VK purchase failed",e),e}}),e.iap.getPurchases=()=>t(this,void 0,void 0,function*(){try{return(yield i.send("VKWebAppGetPurchasedProducts",{})).products.map(e=>({sku:e.product_id,token:e.purchase_token,platfromData:e}))}catch(e){return o.error("VK getPurchases failed",e),[]}}),e.iap.consume=e=>t(this,void 0,void 0,function*(){try{yield i.send("VKWebAppConsumeProduct",{purchase_token:e})}catch(e){throw o.error("VK consume failed",e),e}}),e})}},p={name:"yandex_games",check:()=>location.href.includes(["y","a","n","d","e","x",".","n","e","t"].join("")),init(e){return t(this,void 0,void 0,function*(){yield n("/sdk.js");const o=yield YaGames.init();return e.platform.sdk=o,e.storage.getItem=e=>t(this,void 0,void 0,function*(){const t=yield o.getPlayer(),n=yield t.getData([e]);return void 0===n[e]?null:n[e]}),e.storage.setItem=(e,n)=>t(this,void 0,void 0,function*(){const t=yield o.getPlayer();yield t.setData({[e]:n})}),e.metrics.gameIsReady=()=>{var e;return null===(e=o.features.LoadingAPI)||void 0===e?void 0:e.ready()},e.metrics.gameplay.start=()=>{var e;return null===(e=o.features.GameplayAPI)||void 0===e?void 0:e.start()},e.metrics.gameplay.stop=()=>{var e;return null===(e=o.features.GameplayAPI)||void 0===e?void 0:e.stop()},e.device.language=o.environment.i18n.lang,e.device.type=o.deviceInfo.isDesktop()?"desktop":o.deviceInfo.isMobile()?"mobile":o.deviceInfo.isTablet()?"tablet":o.deviceInfo.isTV()?"tv":e.device.type,e.adv.interstitial.supported=!0,e.adv.interstitial.show=t=>{o.adv.showFullscreenAdv({callbacks:{onOpen:()=>{var n;null===(n=null==t?void 0:t.onOpen)||void 0===n||n.call(t),e.events.emit("audio-mute")},onClose:()=>{var n;null===(n=null==t?void 0:t.onClose)||void 0===n||n.call(t),e.events.emit("audio-unmute")},onError:n=>{var o,i;null===(o=null==t?void 0:t.onClose)||void 0===o||o.call(t),null===(i=null==t?void 0:t.onError)||void 0===i||i.call(t,n),e.events.emit("audio-unmute")},onOffline:()=>{var n,o;null===(n=null==t?void 0:t.onClose)||void 0===n||n.call(t),null===(o=null==t?void 0:t.onError)||void 0===o||o.call(t,"offline"),e.events.emit("audio-unmute")}}})},e.adv.rewarded.supported=!0,e.adv.rewarded.show=t=>{let n=!1;o.adv.showRewardedVideo({callbacks:{onOpen:()=>{var n;null===(n=null==t?void 0:t.onOpen)||void 0===n||n.call(t),e.events.emit("audio-mute")},onRewarded:()=>{n=!0,e.events.emit("audio-unmute")},onClose:()=>{var o;null===(o=null==t?void 0:t.onClose)||void 0===o||o.call(t,n),e.events.emit("audio-unmute")},onError:n=>{var o,i;null===(o=null==t?void 0:t.onClose)||void 0===o||o.call(t,!1),null===(i=null==t?void 0:t.onError)||void 0===i||i.call(t,n),e.events.emit("audio-unmute")}}})},e.adv.banners.static.supported=!0,e.adv.banners.static.show=()=>{o.adv.showBannerAdv()},e.adv.banners.static.hide=()=>{o.adv.hideBannerAdv()},e.iap.supported=!0,e.iap.purchase=e=>t(this,void 0,void 0,function*(){const t=yield o.getPayments(),n=yield t.purchase({id:e});return{sku:n.productID,token:n.purchaseToken,platfromData:n}}),e.iap.getPurchases=()=>t(this,void 0,void 0,function*(){const e=yield o.getPayments();return(yield e.getPurchases()).map(e=>({sku:e.productID,token:e.purchaseToken,platfromData:e}))}),e.iap.consume=e=>t(this,void 0,void 0,function*(){const t=yield o.getPayments();yield t.consumePurchase(e)}),e.iap.getCatalog=()=>t(this,void 0,void 0,function*(){const e=yield o.getPayments();return(yield e.getCatalog()).map(e=>({sku:e.id,title:e.title,description:e.description,price:Number.parseFloat(e.priceValue),imageURI:e.imageURI,currencyCode:e.priceCurrencyCode,currencyImageURI:e.getPriceCurrencyImage("medium")}))}),e.review.supported=!0,e.review.available=()=>t(this,void 0,void 0,function*(){const{value:e}=yield o.feedback.canReview();return e}),e.review.request=()=>t(this,void 0,void 0,function*(){const{feedbackSent:e}=yield o.feedback.requestReview();return e}),e.time=()=>o.serverTime(),e})}};var v,m,f,h=Object.freeze({__proto__:null,crazyGames:s,gameDistribution:e=>({name:"game_distribution",check:()=>location.href.includes("gamedistribution.com"),init(i){return t(this,void 0,void 0,function*(){yield n("https://html5.api.gamedistribution.com/main.min.js",e=>e.id="gamedistribution-jssdk"),window.GD_OPTIONS={gameId:e.gameId,advertisementSettings:{debug:!0,autoplay:!1,locale:"en"},onEvent:e=>{o.info("GameDistribution event",e),e.name}};const t=window.gdsdk;return t.openConsole(),i.platform.sdk=t,i.adv.interstitial.supported=!0,i.adv.interstitial.show=e=>{var n;null===(n=t.showAd)||void 0===n||n.call(t)},i})}}),ok:l,playdeck:d,poki:u,vk:c,yandexGames:p});!function(e){e[e.Undefined=0]="Undefined",e[e.Clicked=1]="Clicked",e[e.Show=2]="Show",e[e.FailedShow=3]="FailedShow",e[e.RewardReceived=4]="RewardReceived"}(v||(v={})),function(e){e[e.Undefined=0]="Undefined",e[e.Video=1]="Video",e[e.RewardedVideo=2]="RewardedVideo",e[e.Playable=3]="Playable",e[e.Interstitial=4]="Interstitial",e[e.OfferWall=5]="OfferWall",e[e.Banner=6]="Banner"}(m||(m={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Offline=2]="Offline",e[e.NoFill=3]="NoFill",e[e.InternalError=4]="InternalError",e[e.InvalidRequest=5]="InvalidRequest",e[e.UnableToPrecache=6]="UnableToPrecache"}(f||(f={}));var w=Object.freeze({__proto__:null,AdfoxPlugin:function(e){return i=>t(this,void 0,void 0,function*(){var t,r,a,s;if("playdeck"===i.platform.name){const n=yield new Promise(e=>{const t=n=>{var o;const i=null===(o=n.data)||void 0===o?void 0:o.playdeck;i&&"getUserProfile"===i.method&&(e(i.value),window.removeEventListener("message",t))};window.addEventListener("message",t),parent.postMessage({playdeck:{method:"getUserProfile"}},"*")});n?(e.fullscreenDesktop&&(null!==(t=(a=e.fullscreenDesktop.params).ext_duid)&&void 0!==t||(a.ext_duid=n.telegramId)),e.fullscreenMobile&&(null!==(r=(s=e.fullscreenMobile.params).ext_duid)&&void 0!==r||(s.ext_duid=n.telegramId))):o.error("Playdeck profile is not available")}const l=["y","a","n","d","e","x"].join("");function d(e){if(document.getElementById(e.containerId))return;const t=document.createElement("div");t.id=e.containerId,document.body.appendChild(t)}return window.yaContextCb=window.yaContextCb||[],n(`https://${l}.ru/ads/system/context.js`).then(()=>{var t;e.adConsole&&(o.info("Adfox Plugin: AdConsole enabled"),null===(t=null===Ya||void 0===Ya?void 0:Ya.enableAdConsole)||void 0===t||t.call(Ya))}),o.info("AdFox config",e),i.adv.interstitial.supported=!0,i.adv.interstitial.show=t=>{var n;try{window.yaContextCb.push(()=>{const n={onRender:()=>{var e;null===(e=null==t?void 0:t.onOpen)||void 0===e||e.call(t)},onClose:()=>{var e;null===(e=null==t?void 0:t.onClose)||void 0===e||e.call(t)},onError:e=>{var n;o.error(e),null===(n=null==t?void 0:t.onError)||void 0===n||n.call(t,e.text)}};"desktop"===Ya.Context.AdvManager.getPlatform()?e.fullscreenDesktop&&(d(e.fullscreenDesktop),Ya.adfoxCode.create(Object.assign(Object.assign({},e.fullscreenDesktop),n))):e.fullscreenMobile&&(d(e.fullscreenMobile),Ya.adfoxCode.create(Object.assign(Object.assign({},e.fullscreenMobile),n)))})}catch(e){console.error(e),null===(n=null==t?void 0:t.onError)||void 0===n||n.call(t,JSON.stringify(e))}},i})},GameAnalyticsPlugin:function(e){var t,o;return window.GameAnalytics=function(...e){var t,n;null!==(t=(n=window.GameAnalytics).q)&&void 0!==t||(n.q=[]),window.GameAnalytics.q.push(e)},n("https://download.gameanalytics.com/js/GameAnalytics-4.4.5.min.js"),window.GameAnalytics("setEnabledInfoLog",null===(t=e.logging)||void 0===t||t),window.GameAnalytics("setEnabledEventSubmission",null===(o=e.eventSubmission)||void 0===o||o),window.GameAnalytics("initialize",e.gameKey,e.secretKey),e=>{if(e.adv.interstitial.supported){const t=e.adv.interstitial.show;e.adv.interstitial.show=n=>{if(n){const t=n.onOpen;n.onOpen=()=>{null==t||t(),window.GameAnalytics("addAdEvent",v.Show,m.Interstitial,e.platform.name,"interstitial")};const o=n.onError;n.onError=t=>{null==o||o(t),window.GameAnalytics("addAdEventWithNoAdReason",v.FailedShow,m.Interstitial,e.platform.name,"interstitial",f.Unknown,{error:t})}}null==t||t(n)}}if(e.adv.rewarded.supported){const t=e.adv.rewarded.show;e.adv.rewarded.show=n=>{if(n){const t=n.onOpen;n.onOpen=()=>{null==t||t(),window.GameAnalytics("addAdEvent",v.Show,m.RewardedVideo,e.platform.name,"rewarded")};const o=n.onClose;n.onClose=t=>{null==o||o(t),t&&window.GameAnalytics("addAdEvent",v.RewardReceived,m.Interstitial,e.platform.name,"rewarded")};const i=n.onError;n.onError=t=>{null==i||i(t),window.GameAnalytics("addAdEventWithNoAdReason",v.FailedShow,m.Interstitial,e.platform.name,"rewarded",f.Unknown,{error:t})}}null==t||t(n)}}return e}}}),g=function(){return g=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},g.apply(this,arguments)};function b(e,t,n,o){return new(n||(n=Promise))(function(t,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function a(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n(function(e){e(o)})).then(r,a)}s((o=o.apply(e,[])).next())})}function y(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],o=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function A(e,t,n){for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}function k(e,t,n){var o=function(e){var t={current:0,next:function(){return++this.current}},n={};return{add:function(o,i){var r=null!=i?i:"".concat(t.next(),"_").concat(e);return n[r]=o,r},resolve:function(e,t,o){var i=n[e];i&&(o(t)?i.resolve(t):i.reject(t),n[e]=null)}}}(n);return t(function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,i=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}(t,["request_id"]);n&&o.resolve(n,i,function(e){return!("error_type"in e)})}}),function(t,n){return void 0===n&&(n={}),new Promise(function(i,r){var a=o.add({resolve:i,reject:r},n.request_id);e(t,g(g({},n),{request_id:a}))})}}var _,I="undefined"!=typeof window,S=Boolean(I&&window.AndroidBridge),V=Boolean(I&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),K=Boolean(I&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),E=I&&!S&&!V,P=E&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),W=E?"message":"VKWebAppEvent",O=A(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate","VKWebAppRecommend","VKWebAppAddToProfile","VKWebAppGetFriends"],E&&!P?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"]),C=I?window.AndroidBridge:void 0,R=V?window.webkit.messageHandlers:void 0,G=E?parent:void 0;var T,B,x,M,N,L,j,D,U,F;!function(e){e.REWARD="reward",e.INTERSTITIAL="interstitial"}(T||(T={})),function(e){e.RESIZE="resize",e.OVERLAY="overlay"}(B||(B={})),function(e){e.TOP="top",e.BOTTOM="bottom"}(x||(x={})),function(e){e.LEFT="left",e.RIGHT="right",e.CENTER="center"}(M||(M={})),function(e){e.COMPACT="compact",e.REGULAR="regular"}(N||(N={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(L||(L={})),function(e){e.CAMERA="camera",e.LOCATION="location",e.PHOTO="photo"}(j||(j={})),function(e){e.RU="ru",e.UK="uk",e.UA="ua",e.EN="en",e.BE="be",e.KZ="kz",e.PT="pt",e.ES="es"}(D||(D={})),function(e){e.ADMIN="admin",e.EDITOR="editor",e.MEMBER="member",e.MODER="moder",e.NONE="none"}(U||(U={})),function(e){e.DESKTOP_WEB="desktop_web",e.DESKTOP_WEB_MESSENGER="desktop_web_messenger",e.DESKTOP_APP_MESSENGER="desktop_app_messenger",e.MOBILE_WEB="mobile_web",e.MOBILE_ANDROID="mobile_android",e.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",e.MOBILE_IPHONE="mobile_iphone",e.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",e.MOBILE_IPAD="mobile_ipad"}(F||(F={}));var q=function(e){var t=void 0,n=[],o=Math.random().toString(36).substring(2,5);function i(e){n.push(e)}function r(e){return S?!(!C||"function"!=typeof C[e]):V?!(!R||!R[e]||"function"!=typeof R[e].postMessage):!!E&&O.includes(e)}function a(){return V||S}function s(){return E&&window.parent!==window}function l(){return a()||s()}function d(e){if(V||S)return A([],n).map(function(t){return t.call(null,e)});var o=null==e?void 0:e.data;if(E&&o){if(K&&"string"==typeof o)try{o=JSON.parse(o)}catch(e){}var i=o.type,r=o.data,a=o.frameId;i&&("VKWebAppSettings"!==i?A([],n).map(function(e){return e({detail:{type:i,data:r}})}):t=a)}}K&&/(android)/i.test(navigator.userAgent)?document.addEventListener(W,d):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(W,d);var u=k(function(n,o){C&&C[n]?C[n](JSON.stringify(o)):R&&R[n]&&"function"==typeof R[n].postMessage?R[n].postMessage(o):K?window.ReactNativeWebView.postMessage(JSON.stringify({handler:n,params:o})):G&&"function"==typeof G.postMessage&&G.postMessage({handler:n,params:o,type:"vk-connect",webFrameId:t,connectVersion:e},"*")},i,o);return i(function(e){if(e.detail&&"SetSupportedHandlers"===e.detail.type)_=new Set(e.detail.data.supportedHandlers)}),{send:u,sendPromise:u,subscribe:i,unsubscribe:function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)},supports:function(e){return console.warn("bridge.supports method is deprecated. Use bridge.supportsAsync instead."),r(e)},supportsAsync:function(e){return b(this,0,void 0,function(){var t;return y(this,function(n){switch(n.label){case 0:if(S||V)return[2,r(e)];if(_)return[2,_.has(e)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,u("SetSupportedHandlers")];case 2:return t=n.sent(),_=new Set(t.supportedHandlers),[3,4];case 3:return n.sent(),_=new Set(["VKWebAppInit"]),[3,4];case 4:return[2,_.has(e)]}})})},isWebView:a,isIframe:s,isEmbedded:l,isStandalone:function(){return!l()}}}("2.15.7"),z=Object.freeze({__proto__:null,get BannerAdAlign(){return M},get BannerAdHeightType(){return N},get BannerAdLayoutType(){return B},get BannerAdLocation(){return x},get BannerAdOrientation(){return L},get EAdsFormats(){return T},get EGetLaunchParamsResponseGroupRole(){return U},get EGetLaunchParamsResponseLanguages(){return D},get EGetLaunchParamsResponsePlatforms(){return F},get EGrantedPermission(){return j},applyMiddleware:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.includes(void 0)||t.includes(null)?e.apply(void 0,t.filter(function(e){return"function"==typeof e})):function(e){if(0===t.length)return e;var n,o={subscribe:e.subscribe,send:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.send.apply(e,t)}},i=t.filter(function(e){return"function"==typeof e}).map(function(e){return e(o)}).reduce(function(e,t){return function(n){return e(t(n))}});return n=i(e.send),g(g({},e),{send:n})}},default:q,parseURLSearchParamsForGetLaunchParams:function(e){var t={};try{var n=new URLSearchParams(e);n.forEach(function(e,n){switch(n){case"vk_ts":case"vk_is_recommended":case"vk_profile_id":case"vk_has_profile_button":case"vk_testing_group_id":case"vk_user_id":case"vk_app_id":case"vk_group_id":t[n]=Number(e);break;case"sign":case"vk_chat_id":case"vk_ref":case"vk_access_token_settings":t[n]=e;break;case"odr_enabled":t.odr_enabled="1"===e?1:void 0;break;case"vk_is_app_user":case"vk_are_notifications_enabled":case"vk_is_favorite":t[n]=function(e){switch(e){case"0":return 0;case"1":return 1;default:return}}(e);break;case"vk_language":t.vk_language=function(e){return Object.values(D).some(function(t){return t===e})}(e)?e:void 0;break;case"vk_viewer_group_role":t.vk_viewer_group_role=function(e){return Object.values(U).some(function(t){return t===e})}(e)?e:void 0;break;case"vk_platform":t.vk_platform=function(e){return Object.values(F).some(function(t){return t===e})}(e)?e:void 0}})}catch(e){console.warn(e)}return t}});return e.init=function(e){return t(this,void 0,void 0,function*(){if(a)return a;a=r;for(const t of e.platforms){const n=(null==e?void 0:e.forcePlatform)===t.name;if(!(null==e?void 0:e.forcePlatform)&&t.check()||n){a=yield t.init(a),a.platform.name=t.name;break}}if(null==e?void 0:e.plugins)for(const t of e.plugins)a=yield t(a);return a})},e.platforms=h,e.plugins=w,e}({});
